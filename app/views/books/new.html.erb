<h1>New Book</h1>

<%= form_with(model: @book, local: true, html: {'parsley-validate' => ''}) do |form| %>
<% if @book.errors.any? %>
<div id="error_explanation">
  <h2><%= pluralize(@book.errors.count, "error") %>
    prohibited this book from being saved:</h2>

  <ul>
    <% @book.errors.full_messages.each do |message| %>
    <li><%= message %></li>
    <% end %>
  </ul>
</div>
<% end %>
<div class="row">
  <div class="col-md-8 col-md-offset-2">
    <div class="form-group">
      <%= form.label :isbn%>
      <%= form.number_field :isbn, id: :book_isbn,  class: "form-control",:required => true %>
    </div>

    <div class="form-group">
      <%= form.label :title %>
      <%= form.text_field :title, id: :book_title, class: "form-control",:required => true %>
    </div>

    <div class="form-group">
      <%= form.label :author_fname, "Author First Name" %>
      <input type="text" name="author_fname" class="form-control" required>
    </div>

    <div class="form-group">
      <%= form.label :author_lname, "Author Last Name" %>
      <input type="text" name="author_lname" class="form-control" required>
    </div>

    <div class="form-group">
      <%= form.label :pages %>
      <%= form.number_field :pages, id: :book_pages, class: "form-control", :required => true %>
    </div>

    <div class="form-group">
      <%= form.label :publisher %>
      <%= form.text_field :publisher, id: :book_publisher, class: "form-control", :required => true %>
    </div>


    <div class="form-group">
      <%= form.label :copiesLeft, "Copies" %>
      <%= form.number_field :copiesLeft, id: :book_copiesLeft, class: "form-control", :required => true %>
    </div>

    <div class="form-group">
      <%= form.label :category %>
      <select name="category" class="selectpicker show-tick form-control" title="Select a Category" data-dropup-auto="false" required>

            <% @categories.each do |category| %>
              <option value="<%= category.id %>">
                <%= category.name %>
              </option>
            <% end %>

      </select>
    </div>
    <div class="form-group">
      <%= form.label :image, "Choose an image" %>
      <%= form.file_field :image, class: "form-control" %>
    </div>

    <div class="actions">
      <%= form.submit class: "btn btn-success"%>&nbsp;
      <%= link_to 'Back', books_path, class: "btn btn-default"%>
    </div>
    <% end %>
  </div>
</div>
